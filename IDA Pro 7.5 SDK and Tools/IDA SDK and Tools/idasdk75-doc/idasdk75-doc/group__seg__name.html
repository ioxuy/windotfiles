<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>IDA SDK: Segment names</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">IDA SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Segment names<div class="ingroups"><a class="el" href="group__seg.html">Segments</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Various ways to retrieve the name of a segment. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga3d5103bc9a9467bf76955237678ebe1a"><td class="memItemLeft" align="right" valign="top">idaman int ida_export&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__seg__name.html#ga3d5103bc9a9467bf76955237678ebe1a">set_segm_name</a> (<a class="el" href="classsegment__t.html">segment_t</a> *s, const char *name, int flags=0)</td></tr>
<tr class="memdesc:ga3d5103bc9a9467bf76955237678ebe1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rename segment.  <a href="#ga3d5103bc9a9467bf76955237678ebe1a">More...</a><br /></td></tr>
<tr class="separator:ga3d5103bc9a9467bf76955237678ebe1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga338226d1af237de04e3ca6c941560afe"><td class="memItemLeft" align="right" valign="top">idaman <a class="el" href="pro_8h.html#ab65ed42d67e6c517c746ff2a6a187016">ssize_t</a> ida_export&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__seg__name.html#ga338226d1af237de04e3ca6c941560afe">get_segm_name</a> (<a class="el" href="pro_8h.html#a386c10c6aa4340f1d63df85f40454fce">qstring</a> *buf, const <a class="el" href="classsegment__t.html">segment_t</a> *s, int flags=0)</td></tr>
<tr class="memdesc:ga338226d1af237de04e3ca6c941560afe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get true segment name by pointer to segment.  <a href="#ga338226d1af237de04e3ca6c941560afe">More...</a><br /></td></tr>
<tr class="separator:ga338226d1af237de04e3ca6c941560afe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9664611338c9701b54dd1f0e4915a7d9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pro_8h.html#ab65ed42d67e6c517c746ff2a6a187016">ssize_t</a> idaapi&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__seg__name.html#ga9664611338c9701b54dd1f0e4915a7d9">get_visible_segm_name</a> (<a class="el" href="pro_8h.html#a386c10c6aa4340f1d63df85f40454fce">qstring</a> *buf, const <a class="el" href="classsegment__t.html">segment_t</a> *s)</td></tr>
<tr class="memdesc:ga9664611338c9701b54dd1f0e4915a7d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get segment name by pointer to segment.  <a href="#ga9664611338c9701b54dd1f0e4915a7d9">More...</a><br /></td></tr>
<tr class="separator:ga9664611338c9701b54dd1f0e4915a7d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafbbbb4017cfa20f887d0b6f0fe01693f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pro_8h.html#ab65ed42d67e6c517c746ff2a6a187016">ssize_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__seg__name.html#gafbbbb4017cfa20f887d0b6f0fe01693f">get_segm_expr</a> (<a class="el" href="pro_8h.html#a386c10c6aa4340f1d63df85f40454fce">qstring</a> *buf, ea_t from, sel_t sel)</td></tr>
<tr class="memdesc:gafbbbb4017cfa20f887d0b6f0fe01693f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get colored segment name expression in the form (segname + displacement).  <a href="#gafbbbb4017cfa20f887d0b6f0fe01693f">More...</a><br /></td></tr>
<tr class="separator:gafbbbb4017cfa20f887d0b6f0fe01693f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga3d5103bc9a9467bf76955237678ebe1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3d5103bc9a9467bf76955237678ebe1a">&#9670;&nbsp;</a></span>set_segm_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">idaman int ida_export set_segm_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsegment__t.html">segment_t</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rename segment. </p>
<p>The new name is validated (see validate_name). A segment always has a name. If you hadn't specified a name, the kernel will assign it "seg###" name where ### is segment number. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>pointer to segment (may be NULL) </td></tr>
    <tr><td class="paramname">name</td><td>new segment name </td></tr>
    <tr><td class="paramname">flags</td><td>ADDSEG_IDBENC or 0 </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>ok, name is good and segment is renamed </td></tr>
    <tr><td class="paramname">0</td><td>failure, name is bad or segment is NULL </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga338226d1af237de04e3ca6c941560afe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga338226d1af237de04e3ca6c941560afe">&#9670;&nbsp;</a></span>get_segm_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">idaman <a class="el" href="pro_8h.html#ab65ed42d67e6c517c746ff2a6a187016">ssize_t</a> ida_export get_segm_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pro_8h.html#a386c10c6aa4340f1d63df85f40454fce">qstring</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classsegment__t.html">segment_t</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get true segment name by pointer to segment. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>output buffer. cannot be NULL </td></tr>
    <tr><td class="paramname">s</td><td>pointer to segment </td></tr>
    <tr><td class="paramname">flags</td><td>0-return name as is; 1-substitute bad symbols with _ 1 corresponds to GN_VISIBLE </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>size of segment name (-1 if s==NULL) </dd></dl>

</div>
</div>
<a id="ga9664611338c9701b54dd1f0e4915a7d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9664611338c9701b54dd1f0e4915a7d9">&#9670;&nbsp;</a></span>get_visible_segm_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pro_8h.html#ab65ed42d67e6c517c746ff2a6a187016">ssize_t</a> idaapi get_visible_segm_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pro_8h.html#a386c10c6aa4340f1d63df85f40454fce">qstring</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classsegment__t.html">segment_t</a> *&#160;</td>
          <td class="paramname"><em>s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get segment name by pointer to segment. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>output buffer. cannot be NULL </td></tr>
    <tr><td class="paramname">s</td><td>pointer to segment </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>size of segment name (-1 if s==NULL) </dd></dl>

</div>
</div>
<a id="gafbbbb4017cfa20f887d0b6f0fe01693f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafbbbb4017cfa20f887d0b6f0fe01693f">&#9670;&nbsp;</a></span>get_segm_expr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pro_8h.html#ab65ed42d67e6c517c746ff2a6a187016">ssize_t</a> get_segm_expr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pro_8h.html#a386c10c6aa4340f1d63df85f40454fce">qstring</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ea_t&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sel_t&#160;</td>
          <td class="paramname"><em>sel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get colored segment name expression in the form (segname + displacement). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>output buffer to hold segment expression </td></tr>
    <tr><td class="paramname">from</td><td>linear address of instruction operand or data referring to the name. This address will be used to get fixup information, so it should point to exact position of operand in the instruction. </td></tr>
    <tr><td class="paramname">sel</td><td>value to convert to segment expression </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>size of segment expression or -1 </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
